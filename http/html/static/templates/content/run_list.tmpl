{{ template "layout" . }}

{{ define "title" }}Runs{{ end }}

{{ define "container-header" }}
  <a href="{{ listWorkspacePath .Content.Workspace }}">workspaces</a>
  /
  <a href="{{ getWorkspacePath .Content.Workspace }}">{{ .Content.Workspace.WorkspaceName }}</a>
  /
  runs
{{ end }}

{{ define "content" }}
  {{ range .Content.List.Items }}
  <div class="item">
    <div class="item-heading">
      <span class="smallcaps status"><span class="status-{{ .Status }}">{{ .Status.String | replace "_" " "}}</span></span>
      <span>|</span>
      <span><a href="{{ getPlanPath . }}">plan</a></span>
      {{ if not .PlanOnly }}
        <span>|</span>
        <span><a href="{{ getApplyPath . }}">apply</a></span>
      {{ end }}
      <span class="status-ago">{{ ago .CreatedAt }} ago</span>
    </div>
    {{ template "identifier" . }}
  </div>
  {{ end }}
{{ end }}
