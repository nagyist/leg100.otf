// Code generated by pggen. DO NOT EDIT.

package pggen

import (
	"context"
	"fmt"

	"github.com/jackc/pgconn"
	"github.com/jackc/pgtype"
	"github.com/jackc/pgx/v4"
)

const insertJobSQL = `INSERT INTO jobs (
    job_id,
    run_id
) VALUES (
    $1,
    $2
);`

// InsertJob implements Querier.InsertJob.
func (q *DBQuerier) InsertJob(ctx context.Context, jobID pgtype.Text, runID pgtype.Text) (pgconn.CommandTag, error) {
	ctx = context.WithValue(ctx, "pggen_query_name", "InsertJob")
	cmdTag, err := q.conn.Exec(ctx, insertJobSQL, jobID, runID)
	if err != nil {
		return cmdTag, fmt.Errorf("exec query InsertJob: %w", err)
	}
	return cmdTag, err
}

// InsertJobBatch implements Querier.InsertJobBatch.
func (q *DBQuerier) InsertJobBatch(batch genericBatch, jobID pgtype.Text, runID pgtype.Text) {
	batch.Queue(insertJobSQL, jobID, runID)
}

// InsertJobScan implements Querier.InsertJobScan.
func (q *DBQuerier) InsertJobScan(results pgx.BatchResults) (pgconn.CommandTag, error) {
	cmdTag, err := results.Exec()
	if err != nil {
		return cmdTag, fmt.Errorf("exec InsertJobBatch: %w", err)
	}
	return cmdTag, err
}

const findJobIDByApplyIDSQL = `SELECT job_id
FROM applies
WHERE apply_id = $1
;`

// FindJobIDByApplyID implements Querier.FindJobIDByApplyID.
func (q *DBQuerier) FindJobIDByApplyID(ctx context.Context, applyID pgtype.Text) (pgtype.Text, error) {
	ctx = context.WithValue(ctx, "pggen_query_name", "FindJobIDByApplyID")
	row := q.conn.QueryRow(ctx, findJobIDByApplyIDSQL, applyID)
	var item pgtype.Text
	if err := row.Scan(&item); err != nil {
		return item, fmt.Errorf("query FindJobIDByApplyID: %w", err)
	}
	return item, nil
}

// FindJobIDByApplyIDBatch implements Querier.FindJobIDByApplyIDBatch.
func (q *DBQuerier) FindJobIDByApplyIDBatch(batch genericBatch, applyID pgtype.Text) {
	batch.Queue(findJobIDByApplyIDSQL, applyID)
}

// FindJobIDByApplyIDScan implements Querier.FindJobIDByApplyIDScan.
func (q *DBQuerier) FindJobIDByApplyIDScan(results pgx.BatchResults) (pgtype.Text, error) {
	row := results.QueryRow()
	var item pgtype.Text
	if err := row.Scan(&item); err != nil {
		return item, fmt.Errorf("scan FindJobIDByApplyIDBatch row: %w", err)
	}
	return item, nil
}

const findRunIDByJobIDSQL = `SELECT run_id
FROM jobs
WHERE job_id = $1
;`

// FindRunIDByJobID implements Querier.FindRunIDByJobID.
func (q *DBQuerier) FindRunIDByJobID(ctx context.Context, jobID pgtype.Text) (pgtype.Text, error) {
	ctx = context.WithValue(ctx, "pggen_query_name", "FindRunIDByJobID")
	row := q.conn.QueryRow(ctx, findRunIDByJobIDSQL, jobID)
	var item pgtype.Text
	if err := row.Scan(&item); err != nil {
		return item, fmt.Errorf("query FindRunIDByJobID: %w", err)
	}
	return item, nil
}

// FindRunIDByJobIDBatch implements Querier.FindRunIDByJobIDBatch.
func (q *DBQuerier) FindRunIDByJobIDBatch(batch genericBatch, jobID pgtype.Text) {
	batch.Queue(findRunIDByJobIDSQL, jobID)
}

// FindRunIDByJobIDScan implements Querier.FindRunIDByJobIDScan.
func (q *DBQuerier) FindRunIDByJobIDScan(results pgx.BatchResults) (pgtype.Text, error) {
	row := results.QueryRow()
	var item pgtype.Text
	if err := row.Scan(&item); err != nil {
		return item, fmt.Errorf("scan FindRunIDByJobIDBatch row: %w", err)
	}
	return item, nil
}
